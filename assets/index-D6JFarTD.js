(function(){const c=document.createElement("link").relList;if(c&&c.supports&&c.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))v(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const n of o.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&v(n)}).observe(document,{childList:!0,subtree:!0});function a(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerPolicy&&(o.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?o.credentials="include":e.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function v(e){if(e.ep)return;e.ep=!0;const o=a(e);fetch(e.href,o)}})();function E(){return new Promise(s=>{const c=document.querySelector("#loader");c.classList.add("is-active"),document.body.style.overflow="hidden";function a(){setTimeout(()=>{c.classList.remove("is-active"),document.body.style.overflow="",s()},800)}window.addEventListener("load",a)})}function w(){const s=document.querySelector(".burger-button"),c=document.querySelector(".mobile-nav"),a=c.querySelectorAll(".mobile-nav__link"),v=document.querySelectorAll(".header__menu-link"),e=[...a,...v],o=document.querySelectorAll("section[id]");let n=!1;function l(){c.classList.add("is-active"),s.classList.add("is-active"),document.body.classList.add("is-lock"),document.documentElement.classList.add("is-lock"),s.setAttribute("aria-expanded","true")}function u(){c.classList.remove("is-active"),s.classList.remove("is-active"),document.body.classList.remove("is-lock"),document.documentElement.classList.remove("is-lock"),s.setAttribute("aria-expanded","false")}function f(d){const r=document.querySelector(d);if(r){const t=document.querySelector(".header").offsetHeight,i=r.offsetTop-t-20;window.scrollTo({top:i,behavior:"smooth"})}}function b(){if(n)return;const d=window.scrollY+100;let r=!1;o.forEach(t=>{const i=t.offsetTop,h=t.offsetHeight;if(d>=i&&d<i+h){const m=t.getAttribute("id");e.forEach(g=>{const L=g.getAttribute("href")===`#${m}`;g.classList.toggle("is-active",L),L&&(r=!0)})}}),r||e.forEach(t=>t.classList.remove("is-active"))}s.addEventListener("click",()=>{c.classList.contains("is-active")?u():l()}),window.addEventListener("keydown",d=>{d.code==="Escape"&&u()}),e.forEach(d=>{d.addEventListener("click",r=>{r.preventDefault();const t=d.getAttribute("href");e.forEach(i=>i.classList.remove("is-active")),d.classList.add("is-active"),u(),n=!0,f(t),setTimeout(()=>{n=!1},800)})}),window.addEventListener("load",b),window.addEventListener("scroll",b)}function I(){const s=document.querySelector(".scroll-up");window.addEventListener("scroll",c);function c(){window.scrollY>=300?s.classList.add("is-active"):s.classList.remove("is-active")}s.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})})}function _({instant:s=!1}={}){const c=document.querySelectorAll("[data-js-animate]");if(s){c.forEach(o=>{o.classList.add("is-active")});return}const a={root:null,rootMargin:"0px 0px 0px 0px",threshold:.2},v=(o,n)=>{o.forEach(l=>{const u=l.target;l.isIntersecting&&(u.classList.add("is-active"),n.unobserve(u))})},e=new IntersectionObserver(v,a);c.forEach(o=>{e.observe(o)})}function S(){document.querySelectorAll("[data-js-tabs]").forEach(c=>{const a=c.querySelectorAll("[data-js-tabs-button]"),v=c.querySelectorAll("[data-js-tabs-content]");let e=[...a].findIndex(r=>r.classList.contains("is-active"));const o=a.length-1,n=()=>{a.forEach((r,t)=>{const i=t===e;r.classList.toggle("is-active",i),r.setAttribute("aria-selected",i),r.setAttribute("tabindex",i?"0":"-1")}),v.forEach((r,t)=>{r.classList.toggle("is-active",t===e)})},l=r=>{e=r,n(),a[r].focus()},u=()=>l(e===0?o:e-1),f=()=>l(e===o?0:e+1),b=()=>l(0),d=()=>l(o);a.forEach((r,t)=>{r.addEventListener("click",()=>l(t))}),c.addEventListener("keydown",r=>{const{code:t,metaKey:i}=r;if(i&&t==="ArrowLeft")return b();if(i&&t==="ArrowRight")return d();switch(t){case"ArrowLeft":u();break;case"ArrowRight":f();break;case"Home":b();break;case"End":d();break}}),n()})}const k=[{videoId:"LXb3EKWsInQ",src:"hero-bg.png",alt:"Love Story — Анна и Дмитрий"},{videoId:"LXb3EKWsInQ",src:"hero-bg.png",alt:"Love Story — Анна и Дмитрий"}],M=[{videoId:"LXb3EKWsInQ",src:"hero-bg.png",alt:"Love Story — Анна и Дмитрий"},{videoId:"LXb3EKWsInQ",src:"hero-bg.png",alt:"Love Story — Анна и Дмитрий"}],A=[{videoId:"LXb3EKWsInQ",src:"hero-bg.png",alt:"Love Story — Анна и Дмитрий"},{videoId:"LXb3EKWsInQ",src:"hero-bg.png",alt:"Love Story — Анна и Дмитрий"},{videoId:"LXb3EKWsInQ",src:"hero-bg.png",alt:"Love Story — Анна и Дмитрий"}],y={"Full Stories":[{videoId:"LXb3EKWsInQ",src:"hero-bg.png",alt:"Love Story — Анна и Дмитрий"},{videoId:"LXb3EKWsInQ",src:"hero-bg.png",alt:"Love Story — Анна и Дмитрий"},{videoId:"LXb3EKWsInQ",src:"hero-bg.png",alt:"Love Story — Анна и Дмитрий"},{videoId:"LXb3EKWsInQ",src:"hero-bg.png",alt:"Love Story — Анна и Дмитрий"},{videoId:"LXb3EKWsInQ",src:"hero-bg.png",alt:"Love Story — Анна и Дмитрий"},{videoId:"LXb3EKWsInQ",src:"hero-bg.png",alt:"Love Story — Анна и Дмитрий"}],Highlights:k,Reals:M,Teaser:A,"Love Stories":[{videoId:"LXb3EKWsInQ",src:"hero-bg.png",alt:"Love Story — Анна и Дмитрий"}]};function q(){const s=document.createElement("div");s.id="videoModal",s.className="video-modal",s.innerHTML=`
    <div class="video-modal__overlay"></div>
    <div class="video-modal__content">
      <button class="video-modal__close" aria-label="Close video">&times;</button>
      <iframe
        id="videoIframe"
        width="800"
        height="450"
        src=""
        frameborder="0"
        allow="autoplay; encrypted-media"
        allowfullscreen
      ></iframe>
    </div>
  `,document.body.appendChild(s);const c=s.querySelector("#videoIframe"),a=s.querySelector(".video-modal__overlay"),v=s.querySelector(".video-modal__close");function e(n){c.src=`https://www.youtube.com/embed/${n}?autoplay=1&rel=0&modestbranding=1&iv_load_policy=3&disablekb=1&showinfo=0`,s.classList.add("is-open"),document.body.style.overflow="hidden"}function o(){c.src="",s.classList.remove("is-open"),document.body.style.overflow=""}return v.addEventListener("click",o),a.addEventListener("click",o),e}const T="/basside.v2/assets/hero-bg-CsPP1hJl.png",p={"hero-bg.png":T};function K(){const s=q(),c=document.querySelectorAll("[data-js-tabs-content]"),a=document.querySelectorAll("[data-js-tabs-button]"),v=Object.keys(y);function e(n){const l=c[n],u=l.querySelector(".tabs__content-list"),f=y[v[n]]||[];u.innerHTML="";const b=l.querySelector(".tabs__more-btn");b&&b.remove();const d=f.slice(0,4),r=f.slice(4);if(d.forEach(t=>{const i=document.createElement("li");i.className="tabs__content-item",i.innerHTML=`
        <article class="work-card" data-video-id="${t.videoId}">
          <figure class="work-card__figure">
            <img class="work-card__preview" src="${p[t.src]}" alt="${t.alt}" loading="lazy" />
            <button class="work-card__play" aria-label="Watch video">
              <svg class="work-card__play-icon">
                <use xlink:href="icons/sprites.svg#play"></use>
              </svg>
            </button>
          </figure>
        </article>
      `,u.appendChild(i),i.querySelector(".work-card").addEventListener("click",()=>s(t.videoId))}),r.length){const t=document.createElement("button");t.className="tabs__more-btn btn",t.textContent="More",u.after(t),t.addEventListener("click",()=>{r.forEach((i,h)=>{const m=document.createElement("li");m.className="tabs__content-item",m.innerHTML=`
            <article class="work-card is-hidden" data-video-id="${i.videoId}">
              <figure class="work-card__figure">
                <img class="work-card__preview" src="${p[i.src]}" alt="${i.alt}" loading="lazy" />
                <button class="work-card__play" aria-label="Watch video">
                  <svg class="work-card__play-icon">
                    <use xlink:href="icons/sprites.svg#play"></use>
                  </svg>
                </button>
              </figure>
            </article>
          `,u.appendChild(m);const g=m.querySelector(".work-card");g.addEventListener("click",()=>s(i.videoId)),setTimeout(()=>{g.classList.remove("is-hidden"),g.classList.add("is-visible")},h*100)}),t.remove()})}}const o=[...a].findIndex(n=>n.classList.contains("is-active"));o!==-1&&e(o),a.forEach((n,l)=>{n.addEventListener("click",()=>e(l))})}E().then(()=>{w(),I(),_(),S(),K()});
